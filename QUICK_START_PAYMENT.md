# ๐ ฺฺฉโูุณุช ุงุชุตุงู ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช

## โ ฺุฒูุง ฺฉู ูุงุฒ ุฏุงุฑุฏ:

### 1๏ธโฃ **ุงุทูุงุนุงุช ุฏุฑฺฏุงู ูพุฑุฏุงุฎุช**
- [ ] Merchant ID (ุดูุงุณู ูุฑchant)
- [ ] API Token/Key (ฺฉูุฏ API)
- [ ] Terminal ID (ุงฺฏุฑ ูุงุฒ ุจุงุดุฏ)
- [ ] ูุณุชูุฏุงุช API ุฏุฑฺฏุงู ุดูุง

### 2๏ธโฃ **ูพฺฉุฌ ุฏุฑฺฏุงู**
ุจุณุชู ุจู ุฏุฑฺฏุงู ุดูุงุ ฺฉ ุงุฒ ุงู ูพฺฉุฌโูุง ุฑุง ูุตุจ ฺฉูุฏ:

```bash
# ุจุฑุง ุฒุฑูโูพุงู:
npm install zarinpal-checkout

# ุจุฑุง ูพโูพูฺฏ:
npm install axios
# ุง ุงุฒ fetch ุงุณุชูุงุฏู ฺฉูุฏ (ูุงุฒ ุจู ูุตุจ ูุณุช)

# ุจุฑุง ุณุงูุงู:
npm install saman-payment-gateway

# ุจุฑุง ุฏุฑฺฏุงูโูุง ุฏฺฏุฑ:
# ูพฺฉุฌ ูุฑุจูุท ุจู ุฏุฑฺฏุงู ุฎูุฏ ุฑุง ูุตุจ ฺฉูุฏ
```

### 3๏ธโฃ **ูุงู .env.local**
ุฏุฑ ุฑุดู ูพุฑูฺู ูุงู `.env.local` ุจุณุงุฒุฏ ู ุงู ูุชุบุฑูุง ุฑุง ุงุถุงูู ฺฉูุฏ:

```env
# ุขุฏุฑุณ ุณุงุช ุดูุง (ุจุฑุง callback)
NEXT_PUBLIC_BASE_URL=http://localhost:3000
# ุฏุฑ production: https://yourdomain.com

# ุงุทูุงุนุงุช ุฏุฑฺฏุงู (ูุซุงู ุจุฑุง ุฒุฑูโูพุงู)
ZARINPAL_MERCHANT_ID=your_merchant_id_here
ZARINPAL_SANDBOX=true  # true ุจุฑุง ุชุณุชุ false ุจุฑุง production

# ุง ุจุฑุง ูพโูพูฺฏ:
PAYPING_TOKEN=your_token_here

# ุง ุจุฑุง ุณุงูุงู:
SAMAN_MERCHANT_ID=your_merchant_id
SAMAN_TERMINAL_ID=your_terminal_id
```

### 4๏ธโฃ **ูุฑุงุด 2 ูุงู API**

#### ูุงู 1: `app/api/payment/create/route.ts`
- ฺฉุฏ mock ุฑุง ุญุฐู ฺฉูุฏ
- ฺฉุฏ ุฏุฑฺฏุงู ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ
- ูุซุงูโูุง ุฏุฑ ูุงู `PAYMENT_GATEWAY_SETUP.md` ููุฌูุฏ ุงุณุช

#### ูุงู 2: `app/api/payment/verify/route.ts`
- ฺฉุฏ mock ุฑุง ุญุฐู ฺฉูุฏ
- ฺฉุฏ ุชุงุฏ ุฏุฑฺฏุงู ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ
- ูุซุงูโูุง ุฏุฑ ูุงู `PAYMENT_GATEWAY_SETUP.md` ููุฌูุฏ ุงุณุช

### 5๏ธโฃ **ุฏุชุงุจุณ (ุงุฎุชุงุฑ ุงูุง ุชูุตู ูโุดูุฏ)**
ุจุฑุง ุฐุฎุฑู ุณูุงุฑุดโูุง:
- [ ] ุฏุชุงุจุณ (PostgreSQL, MySQL, MongoDB ู...)
- [ ] ORM ูุซู Prisma ุง TypeORM
- [ ] ุง ุงุณุชูุงุฏู ุงุฒ ฺฉ ุณุฑูุณ cloud ูุซู Supabase

### 6๏ธโฃ **ุณุณุชู ุชููุฏ ฺฉุฏูุง ฺฏูุช ฺฉุงุฑุช**
- [ ] API ุจุฑุง ุฏุฑุงูุช ฺฉุฏูุง ฺฏูุช ฺฉุงุฑุช
- [ ] ุง ุฏุชุงุจุณ ฺฉุฏูุง ุขูุงุฏู
- [ ] ุง ุณุฑูุณ ุดุฎุต ุดูุง

---

## ๐ ูุฑุงุญู ูุตุจ ุณุฑุน:

### ูุฑุญูู 1: ูุตุจ ูพฺฉุฌ
```bash
cd card-panel
npm install zarinpal-checkout  # ุง ูพฺฉุฌ ุฏุฑฺฏุงู ุดูุง
```

### ูุฑุญูู 2: ุณุงุฎุช ูุงู .env.local
```bash
# ุฏุฑ ุฑุดู ูพุฑูฺู
touch .env.local
```

ุณูพุณ ูุญุชูุง ุจุงูุง ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ.

### ูุฑุญูู 3: ูุฑุงุด ูุงูโูุง API
ุฏู ูุงู ุฒุฑ ุฑุง ุจุงุฒ ฺฉูุฏ ู ฺฉุฏ ุฏุฑฺฏุงู ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ:
- `app/api/payment/create/route.ts`
- `app/api/payment/verify/route.ts`

### ูุฑุญูู 4: ุชูุธู Callback URL
ุฏุฑ ูพูู ุฏุฑฺฏุงู ุฎูุฏุ Callback URL ุฑุง ุชูุธู ฺฉูุฏ:
```
http://localhost:3000/payment/callback  # ุจุฑุง ุชุณุช
https://yourdomain.com/payment/callback  # ุจุฑุง production
```

### ูุฑุญูู 5: ุชุณุช
```bash
npm run dev
```

---

## โ ุณูุงูุงุช ูุชุฏุงูู:

**Q: ฺู ุฏุฑฺฏุงู ุฏุงุฑุฏุ**
- ุงฺฏุฑ ุฒุฑูโูพุงู ุงุณุช โ ุงุฒ ูุซุงู ุฒุฑูโูพุงู ุงุณุชูุงุฏู ฺฉูุฏ
- ุงฺฏุฑ ูพโูพูฺฏ ุงุณุช โ ุงุฒ ูุซุงู ูพโูพูฺฏ ุงุณุชูุงุฏู ฺฉูุฏ
- ุงฺฏุฑ ุฏุฑฺฏุงู ุฏฺฏุฑ ุงุณุช โ ูุณุชูุฏุงุช ุขู ุฑุง ุจูุฑุณุชุฏ

**Q: ุฏุชุงุจุณ ูุฏุงุฑูุ ูโุดู ุจุฏูู ุฏุชุงุจุณ ฺฉุงุฑ ฺฉููุ**
- ุจููุ ุงูุง ุชูุตู ููโุดูุฏ
- ูโุชูุงูุฏ ุงุฒ localStorage ุง session ุงุณุชูุงุฏู ฺฉูุฏ (ููุท ุจุฑุง ุชุณุช)
- ุจุฑุง production ุญุชูุง ุฏุชุงุจุณ ูุงุฒ ุงุณุช

**Q: ฺฉุฏูุง ฺฏูุช ฺฉุงุฑุช ุฑุง ุงุฒ ฺฉุฌุง ุจฺฏุฑูุ**
- ุงุฒ API ุดุฎุต ุฎูุฏุชุงู
- ุงุฒ ฺฉ ุณุฑูุณ ูุฑูุดูุฏู ฺฏูุช ฺฉุงุฑุช
- ุงุฒ ุฏุชุงุจุณ ฺฉุฏูุง ุขูุงุฏู

---

## ๐ ุงฺฏุฑ ฺฉูฺฉ ูุงุฒ ุฏุงุฑุฏ:

1. ูุงู ุฏุฑฺฏุงู ุฎูุฏ ุฑุง ุจฺฏูุฏ
2. ูุณุชูุฏุงุช API ุฏุฑฺฏุงู ุฑุง ุจูุฑุณุชุฏ
3. ุง Merchant ID ู Token ุฑุง ุจุฏูุฏ ุชุง ฺฉุฏ ุฏูู ุฑุง ุจููุณู

